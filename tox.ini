[tox]
envlist =
    py{3.6,3.7,3.8,3.9}-pytest{4,5,6,7}

[testenv]
extras =
    tests
deps =
    pytest4: pytest~=4.0
    pytest5: pytest~=5.0
    pytest6: pytest~=6.0
    pytest7: pytest~=7.0
basepython =
    py3.6: python3.6
    py3.7: python3.7
    py3.8: python3.8
    py3.9: python3.9
setenv =
    COMPOSE_FILE=tests/docker-compose.yml
commands_pre =
    docker-compose build --pull
commands =
    pytest
commands_post =
    docker-compose down

[pytest]
addopts = --verbose --pylint-rcfile=setup.cfg
# --pylint --pycodestyle
